<!DOCTYPE HTML>
<html lang="en">

<head>
	<title>Code Progress</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8">

    <link rel="icon" href="https://daniel8hagen.com/index_files/code_ico.ico">

    <link rel="stylesheet" href="github-markdown.css">
    <style>
        .markdown-body {
        box-sizing: border-box;
        min-width: 200px;
        max-width: 980px;
        margin: 0 auto;
        padding: 45px;
        }

        @media (max-width: 767px) {
            .markdown-body {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <article class="markdown-body">
<h1 id="readme.md-for-figures-created-20200415-at-1553.23">README.md for Figures Created 2020/04/15 at 15:53.23</h1>
<h2 id="notes">Notes</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>movement <span class="op">=</span> <span class="st">&quot;angleStep_stiffStep&quot;</span></span></code></pre></div>
<p>Attempting to smooth the point-to-point trajectory by increasing the step duration to 1 second and changing the moving average filter to be 0.1667 seconds long. The following code was added to the <code>plant.generate_desired_trajectory_STEP_STEP()</code> code:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a>filterLength <span class="op">=</span> <span class="bu">int</span>((<span class="dv">1</span><span class="op">/</span><span class="dv">3</span>)<span class="op">/</span><span class="va">self</span>.dt<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a> b<span class="op">=</span>np.ones(filterLength,)<span class="op">/</span>(filterLength) <span class="co">#Finite Impulse Response (FIR) Moving Average (MA) filter with filter length (3 Hz^{-1} / dt) / 2</span></span>
<span id="cb2-3"><a href="#cb2-3"></a> a<span class="op">=</span><span class="dv">1</span></span>
<span id="cb2-4"><a href="#cb2-4"></a> trajectory <span class="op">=</span> signal.filtfilt(b, a, trajectory)</span></code></pre></div>
<p>With a step duration of 1 second, and a filter length of 0.1667 seconds, each step will have roughly 0.8333 seconds to converge to that point.</p>
<h2 id="parameters">Parameters</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a>params <span class="op">=</span> {</span>
<span id="cb3-2"><a href="#cb3-2"></a>   <span class="st">&#39;Extra Steps&#39;</span> : <span class="fl">5.0</span>,</span>
<span id="cb3-3"><a href="#cb3-3"></a>   <span class="st">&#39;stepDuration&#39;</span> : <span class="fl">1.0</span>,</span>
<span id="cb3-4"><a href="#cb3-4"></a>   <span class="st">&#39;numberOfSteps&#39;</span> : <span class="dv">200</span>,</span>
<span id="cb3-5"><a href="#cb3-5"></a>   <span class="st">&#39;delay&#39;</span> : <span class="fl">0.3</span>,</span>
<span id="cb3-6"><a href="#cb3-6"></a>   <span class="st">&#39;angleRange&#39;</span> : <span class="va">None</span>,</span>
<span id="cb3-7"><a href="#cb3-7"></a>   <span class="st">&#39;stiffnessRange&#39;</span> : [<span class="dv">20</span>, <span class="dv">100</span>]</span>
<span id="cb3-8"><a href="#cb3-8"></a>}</span></code></pre></div>
<h2 id="figures">Figures</h2>
<h4 id="states_01-01.png">states_01-01.png</h4>
<p align="center">
<img width="500" src="states_01-01.png">
</p>
<h4 id="states_01-02.png">states_01-02.png</h4>
<p align="center">
<img width="500" src="states_01-02.png">
</p>
<h4 id="states_01-03.png">states_01-03.png</h4>
<p align="center">
<img width="500" src="states_01-03.png">
</p>
<h4 id="states_01-04.png">states_01-04.png</h4>
<p align="center">
<img width="500" src="states_01-04.png">
</p>
<h4 id="states_01-05.png">states_01-05.png</h4>
<p align="center">
<img width="500" src="states_01-05.png">
</p>
<h2 id="results">Results</h2>
<p>It appears that a 3 Hz cutoff for the moving average filter creates movements that are entirely within the range of motion of the joint. It will be important to now see whether or not the simulation duration (200 seconds) is sufficient to sample the trajectory space (<span class="math inline">‚Ñù<sup>2</sup></span>).</p>
<h1 id="appended-on-20200415-at-1605.04">Appended on 2020/04/15 at 16:05.04</h1>
<h2 id="notes-1">Notes</h2>
<p>Plotting the error as a function of joint angle and stiffness for the STEP/STEP trajectory (with the given params above).</p>
<h2 id="parameters-1">Parameters</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a>params <span class="op">=</span> {</span>
<span id="cb4-2"><a href="#cb4-2"></a>   <span class="st">&#39;metric&#39;</span> : <span class="st">&#39;MAE&#39;</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>}</span></code></pre></div>
<h2 id="figures-1">Figures</h2>
<h4 id="heatmap_mae_01-01.png">heatmap_MAE_01-01.png</h4>
<p align="center">
<img width="500" src="heatmap_MAE_01-01.png">
</p>
<h2 id="results-1">Results</h2>
<p>There appears to be adequate subsampling of the configuration space. There is poor sampling of the boundaries, but that is to be expected for a bounded, uniform sampling in 2D.</p>

	</article>
</body>